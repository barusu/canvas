{"version":3,"sources":["layout/script/component.js"],"names":["Vue","component","template","props","computed","this","option","mounted","watch","chart","setOption","_this","$nextTick","echarts","init","$el","data","methods","Option","name","bgColor","colors","itemStyle","color","star4","star2","children","normal","j","length","i","level1","bookScoreId","block","bookScore","star","style","star3","label","downplay","opacity","forEach","book","value","series","type","center","b","a","depth","getValue","dataIndex","sort","borderColor","borderWidth","levels","rotate","r0","r","shadowBlur","shadowColor","position","textShadowBlur","textShadowColor"],"mappings":"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","file":"component.js","sourcesContent":["Vue.component('oo-iframe', {\n  template: '#iframe',\n  props: ['option'],\n  computed: {\n    Src() {\n      return this.option;\n    }\n  },\n  mounted() {}\n});\n\nVue.component('oo-echarts', {\n  template: '#echarts',\n  props: ['option'],\n  watch: {\n    'option': function() {\n      this.chart.setOption(this.option);\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.chart = echarts.init(this.$el);\n      this.chart.setOption(this.option);\n    });\n  }\n});\n\nVue.component('oo-sunburst', {\n  template: '#sunburst',\n  props: ['option'],\n  data() {\n    return {\n      chart: null\n    };\n  },\n  methods: {\n    init() {\n      this.chart = echarts.init(this.$el);\n      this.chart.setOption(this.Option);\n    }\n  },\n  computed: {\n    Option() {\n      var bgColor = '#2e2733';\n      var colors = ['#ffae57', '#ff7853', '#ea5151', '#cc3f57', '#9a2555'];\n      var itemStyle = {\n        star5: {\n          color: colors[0]\n        },\n        star4: {\n          color: colors[1]\n        },\n        star3: {\n          color: colors[2]\n        },\n        star2: {\n          color: colors[3]\n        }\n      };\n      var data = [{\n        name: '虚构',\n        itemStyle: {normal: {color: colors[1] }},\n        children: [{\n          name: '小说',\n          children: [{\n            name: '5☆',\n            children: [{name: '疼'}, {name: '慈悲'}, {name: '楼下的房客'}]\n          }, {\n            name: '4☆',\n            children: [{name: '虚无的十字架'}, {name: '无声告白'}, {name: '童年的终结'}]\n          }, {\n            name: '3☆',\n            children: [{name: '疯癫老人日记'}]\n          }]\n        }, {\n          name: '其他',\n          children: [{\n            name: '5☆',\n            children: [{name: '纳博科夫短篇小说全集'}]\n          }, {\n            name: '4☆',\n            children: [{name: '安魂曲'}, {name: '人生拼图版'}]\n          }, {\n            name: '3☆',\n            children: [{name: '比起爱你，我更需要你'}]\n          }]\n        }]\n      }, {\n        name: '非虚构',\n        itemStyle: {color: colors[2] },\n        children: [{\n          name: '设计',\n          children: [{\n            name: '5☆',\n            children: [{name: '无界面交互'}]\n          }, {\n            name: '4☆',\n            children: [{name: '数字绘图的光照与渲染技术'}, {name: '日本建筑解剖书'}]\n          }, {\n            name: '3☆',\n            children: [{name: '奇幻世界艺术\\n&RPG地图绘制讲座'}]\n          }]\n        }, {\n          name: '社科',\n          children: [{\n            name: '5☆',\n            children: [{name: '痛点'}]\n          }, {\n            name: '4☆',\n            children: [{name: '卓有成效的管理者'}, {name: '进化'}, {name: '后物欲时代的来临'}]\n          }, {\n            name: '3☆',\n            children: [{name: '疯癫与文明'}]\n          }]\n        }, {\n          name: '心理',\n          children: [{\n            name: '5☆',\n            children: [{name: '我们时代的神经症人格'}]\n          }, {\n            name: '4☆',\n            children: [{name: '皮格马利翁效应'}, {name: '受伤的人'}]\n          }, {\n            name: '3☆',\n          }, {\n            name: '2☆',\n            children: [{name: '迷恋'}]\n          }]\n        }, {\n          name: '居家',\n          children: [{\n            name: '4☆',\n            children: [{name: '把房子住成家'}, {name: '只过必要生活'}, {name: '北欧简约风格'}]\n          }]\n        }, {\n          name: '绘本',\n          children: [{\n            name: '5☆',\n            children: [{name: '设计诗'}]\n          }, {\n            name: '4☆',\n            children: [{name: '假如生活糊弄了你'}, {name: '博物学家的神秘动物图鉴'}]\n          }, {\n            name: '3☆',\n            children: [{name: '方向'}]\n          }]\n        }, {\n          name: '哲学',\n          children: [{\n            name: '4☆',\n            children: [{name: '人生的智慧'}]\n          }]\n        }, {\n          name: '技术',\n          children: [{\n            name: '5☆',\n            children: [{name: '代码整洁之道'}]\n          }, {\n            name: '4☆',\n            children: [{name: 'Three.js 开发指南'}]\n          }]\n        }]\n      }];\n      for (var j = 0; j < data.length; ++j) {\n        var level1 = data[j].children;\n        for (var i = 0; i < level1.length; ++i) {\n          var block = level1[i].children;\n          var bookScore = [];\n          var bookScoreId;\n          for (var star = 0; star < block.length; ++star) {\n            var style = (function (name) {\n              switch (name) {\n                case '5☆':\n                  bookScoreId = 0;\n                  return itemStyle.star5;\n                case '4☆':\n                  bookScoreId = 1;\n                  return itemStyle.star4;\n                case '3☆':\n                  bookScoreId = 2;\n                  return itemStyle.star3;\n                case '2☆':\n                  bookScoreId = 3;\n                  return itemStyle.star2;\n              }\n            })(block[star].name);\n            block[star].label = {\n              color: style.color,\n              downplay: {opacity: 0.5 }\n            };\n            if (block[star].children) {\n              style = {opacity: 1, color: style.color };\n              block[star].children.forEach(function (book) {\n                book.value = 1;\n                book.itemStyle = style;\n                book.label = {color: style.color };\n                var value = 1;\n                if (bookScoreId === 0 || bookScoreId === 3) {value = 5; }\n                if (bookScore[bookScoreId]) {bookScore[bookScoreId].value += value; }\n                else {bookScore[bookScoreId] = {color: colors[bookScoreId], value: value }; }\n              });\n            }\n          }\n          level1[i].itemStyle = {color: data[j].itemStyle.color };\n        }\n      }\n      return {\n        // backgroundColor: bgColor,\n        color: colors,\n        series: [{\n          type: 'sunburst',\n          center: ['50%', '50%'],\n          data: data,\n          sort: function (a, b) {\n            if (a.depth === 1) {\n              return b.getValue() - a.getValue();\n            }\n            else {\n              return a.dataIndex - b.dataIndex;\n            }\n          },\n          label: {\n            rotate: 'radial',\n            color: bgColor\n          },\n          itemStyle: {\n            borderColor: bgColor,\n            borderWidth: 2\n          },\n          levels: [{}, {\n            r0: 0,\n            r: 40,\n            label: {rotate: 0 }\n          },{\n            r0: 40,\n            r: 105\n          }, {\n            r0: 115,\n            r: 140,\n            itemStyle: {\n              shadowBlur: 2,\n              shadowColor: colors[2],\n              color: 'transparent'\n            },\n            label: {\n              rotate: 'tangential',\n              fontSize: 10,\n              color: colors[0]\n            }\n          }, {\n            r0: 140,\n            r: 145,\n            itemStyle: {\n              shadowBlur: 80,\n              shadowColor: colors[0]\n            },\n            label: {\n              position: 'outside',\n              textShadowBlur: 5,\n              textShadowColor: '#333',\n            },\n            downplay: {label: {opacity: 0.5 }}\n          }]\n        }]\n      };\n    }\n  },\n  mounted() {\n    this.init();\n  }\n});"]}