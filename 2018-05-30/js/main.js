"use strict";!function(t){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var s=function(t,i,a){this.a={x:t.x,y:t.y},this.b={x:i.x,y:i.y},this.radian=a,this.na={x:t.x,y:t.y},this.nb={x:i.x,y:i.y},this.progress=100*Math.random()>>0};s.prototype={paint:function(t){var i,a,s,n,e=t.createLinearGradient(this.a.x-(.1*(this.b.x-this.a.x)>>0),this.a.y-(.1*(this.b.y-this.a.y)>>0),this.b.x-(.1*(this.a.x-this.b.x)>>0),this.b.y-(.1*(this.a.y-this.b.y)>>0));e.addColorStop(0,"rgba(255,255,255,.5)"),e.addColorStop(Math.max((this.progress-10)/100,0),"rgba(255,255,255,.5)"),e.addColorStop(this.progress/100,"rgba(255,255,255,1)"),e.addColorStop(Math.min((this.progress+10)/100,1),"rgba(255,255,255,.5)"),e.addColorStop(1,"rgba(255,255,255,.5)"),t.setLineDash([8,4]),t.lineWidth=2,t.strokeStyle=e,i=t,a=this.a,s=this.cp,n=this.b,i.beginPath(),i.moveTo(a.x,a.y),i.quadraticCurveTo(s.x,s.y,n.x,n.y),i.stroke(),i.closePath()},update:function(){this.na.x!==this.a.x&&(this.a.x+=0<this.na.x-this.a.x?1:-1),this.na.y!==this.a.y&&(this.a.y+=0<this.na.y-this.a.y?1:-1),this.nb.x!==this.b.x&&(this.b.x+=0<this.nb.x-this.b.x?1:-1),this.nb.y!==this.b.y&&(this.b.y+=0<this.nb.y-this.b.y?1:-1),this.progress=(this.progress+.6)%100},updateLine:function(t,i,a){this.radian=a,this.na={x:t.x,y:t.y},this.nb={x:i.x,y:i.y}},get cp(){return this.a.x<this.b.x?{x:(this.a.x+this.b.x)/2+(this.b.y-this.a.y)/this.radian,y:(this.a.y+this.b.y)/2-(this.b.x-this.a.x)/this.radian}:{x:(this.a.x+this.b.x)/2-(this.b.y-this.a.y)/this.radian,y:(this.a.y+this.b.y)/2+(this.b.x-this.a.x)/this.radian}}},t.initCanvas=function(t){var i=function(t){var i;if("string"==typeof t&&(t=document.getElementById(t)),t&&1===t.nodeType&&"CANVAS"===t.nodeName){i=t.getContext("2d");var a=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1);return t.width=t.clientWidth*a,t.height=t.clientHeight*a,i.scale(a,a),i}return console.error("El is not a Canvas"),!1}(t),n=[];return function t(){n.forEach(function(t){t.update()}),i.clearRect(0,0,i.canvas.width,i.canvas.height),n.forEach(function(t){t.paint(i)}),a(function(){t()})}(),{addCurve:function(t,i){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2.6;return n.push(new s(t,i,a))-1},updateLine:function(t,i,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2.6;n[t].updateLine(i,a,s)}}}}(window);var sp,poi,canvas=initCanvas("canvas"),state=!0;function draw(t){sp?(state?(poi=canvas.addCurve(sp,{x:t.offsetX,y:t.offsetY}),state=!1):(console.log("change"),canvas.updateLine(poi,sp,{x:t.offsetX,y:t.offsetY})),sp=null):sp={x:t.offsetX,y:t.offsetY}}
//# sourceMappingURL=main.js.map
