{"version":3,"sources":["2020-07-23/script/main.js"],"names":["line","echarts","init","document","getElementById","data","name","setMockData","item","s","T","base","Date","b","i","Math","round","random","v","now","push","date","getFullYear","getMonth","getDate","join","value","forEach","option","title","text","tooltip","legend","map","xAxis","type","boundaryGap","yAxis","min","max","dataZoom","start","end","series","symbol","smooth","lineStyle","width","d","setOption","list","sort","a","d3","select","selectAll","enter","append","classed","on","this","console","log","batch"],"mappings":"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","file":"main.min.js","sourcesContent":["var line = echarts.init(document.getElementById('line'));\nvar data = [\n  {name: \"地区1\", data: []},\n  {name: \"地区2\", data: []},\n  {name: \"地区3\", data: []},\n  {name: \"地区4\", data: []},\n  {name: \"地区5\", data: []},\n  {name: \"地区6\", data: []},\n  {name: \"地区7\", data: []},\n  {name: \"地区8\", data: []},\n  {name: \"地区9\", data: []},\n  {name: \"地区10\", data: []},\n  {name: \"地区11\", data: []},\n  {name: \"地区12\", data: []},\n  {name: \"地区13\", data: []}\n];\nfunction setMockData(item) {\n  var base = +new Date(1968, 9, 3);\n  var oneDay = 24 * 3600 * 1000;\n  var s, T, b = 0;\n  for (var i = 0; i <= 20000; i++) {\n    if(!T) {\n      T = Math.round(Math.random() * 20 + 5);\n      s = Math.random() > 0.5;\n    }\n    if(b < 20) s = true;\n    if(b > 1900) s = false;\n    T--;\n    var v = Math.round(Math.random() * 20 - 9);\n    if(s) b += v;\n    else b += v - 2;\n    var now = new Date(base += oneDay);\n    item.data.push({\n      date: [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),\n      value: b\n    });\n  }\n}\ndata.forEach(i => setMockData(i));\n\nvar option = {\n  title: {\n      text: ''\n  },\n  tooltip: {},\n  legend: {\n      data: data.map(i => i.name)\n  },\n  xAxis: {\n    type: 'category',\n    boundaryGap: false,\n    data: data[0].data.map(i => i.date)\n  },\n  yAxis: {\n    type: 'value',\n    min: 0,\n    max: 2000\n  },\n  dataZoom: [{\n    type: 'inside',\n    start: 99,\n    end: 100\n  }],\n  series: data.map(i => {\n    return {\n      name: i.name,\n      type: 'line',\n      symbol: 'none',\n      smooth: 1,\n      lineStyle: {\n        width: 1\n      },\n      data: i.data.map(d => d.value)\n    };\n  })\n};\nline.setOption(option);\nvar list = data.map(i => ({name: i.name, value: i.data[20000].value})).sort((a, b) => b.value - a.value);\nd3.select('.list').selectAll('.item').data(list).enter().append('div').classed('item', true).text(i => i.name).on('click', function(i) {\n  d3.select('.list').selectAll('.item').classed('select', false);\n  d3.select(this).classed('select', true);\n  option.series.forEach(s => {\n    if(s.name == i.name) s.lineStyle.width = 2;\n    else s.lineStyle.width = 1;\n  });\n  line.setOption(option);\n  console.log(i.name);\n});\nline.on('datazoom', function(i) {\n  var end = i.batch[0].end * 200 >> 0;\n  var list = data.map(i => ({name: i.name, value: i.data[end].value})).sort((a, b) => b.value - a.value);\n  d3.select('.list').selectAll('.item').data(list).text(i => i.name);\n});"]}