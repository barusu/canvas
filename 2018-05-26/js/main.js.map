{"version":3,"sources":["2018-05-26/script/main.js"],"names":["scope","initCanvas","el","drawQuadraticCurve","document","getElementById","cp","nodeName","ctx","getContext","ratio","window","mozBackingStorePixelRatio","msBackingStorePixelRatio","devicePixelRatio","webkitBackingStorePixelRatio","width","height","scale","curve","a","b","e","radian","arguments","length","undefined","x","y","beginPath","moveTo","quadraticCurveTo","debug","console","error","sp","canvas","draw"],"mappings":"cAMA,SAAUA,GACRA,EAAMC,WAAa,SAASC,GAexBC,GAJA,iBAAAD,IAAAA,EAAAE,SAAAC,eAAAH,IAIAC,GAAsBG,IAAtBH,EAAAA,UAAA,WAAAD,EAAAK,SAAA,CACD,IAAAC,EAAAN,EAAAO,WAAA,MAYOC,GAVRC,OAAiCP,kBAASC,IACvCG,EAA2BN,8BACJM,EAAxBI,2BACAJ,EAAAK,0BACyBF,EAAOG,yBACNN,EAAIO,wBAAJ,GAU1B,OAHAb,EAAGc,MAAQd,EAAGc,MAAQN,EACtBR,EAAGe,OAASf,EAAGe,OAASP,EACxBF,EAAIU,MAAMR,EAAOA,GACV,CACLS,MA1BH,SAAAC,EAAAC,GAAA,IARyBnB,EAAII,EAAAgB,EAQ7BC,EAAA,EAAAC,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,IACDlB,EAAA,CACAqB,GAAAP,EAASD,EAATE,EAAAM,GAAmC,GAAAN,EAAAO,EAAAR,EAAAQ,GAAAL,EAAAK,GAAdL,EAAAA,EAAcF,EAAAO,GAAA,GAAAP,EAAAM,EAAAP,EAAAO,GAAAJ,GAVTrB,EAWfkB,EAXmBd,EAWnBA,EAXmBgB,EAWnBD,EAVXb,EAAAqB,YACArB,EAAAsB,OAAS3B,EAAAA,EAAAA,EAAAA,GACPK,EAAIqB,iBAAJvB,EAAAqB,EAAArB,EAAAsB,EAAAN,EAAAK,EAAAL,EAAAM,GACApB,EAAIsB,SACJtB,EAAIuB,cAiCJ,OADA/B,EAAMgC,OAASC,QAAQC,MAAM,oBACtB,GAvCb,CA0CGvB,QAEH,IACIwB,GADAC,OAASnC,WAAW,UAGxB,SAASoC,KAAKf,GACZa,IACEC,OAAOjB,MAAMgB,GAAI,CAAAR,EAACA,EAAGL,QAAJM,EAAeA,EAAGN,UACnCa,GAAK,MAELA,GAAK,CAAAR,EAACA,EAAGL,QAAJM,EAAeA,EAAGN","file":"main.js","sourcesContent":["/**\n * Day 2\n * 试试看画之后工作上可能会用到的轨迹线\n * 2018-05-26 --> 2018-05-28 周末参加婚礼去了\n */\n\n(function(scope) {\n  scope.initCanvas = function(el) {\n    // 绘制贝塞尔曲线\n    function drawQuadraticCurve(s, cp, e) {\n      ctx.beginPath();\n      ctx.moveTo(s.x, s.y);\n      ctx.quadraticCurveTo(cp.x, cp.y, e.x, e.y);\n      ctx.stroke();\n      ctx.closePath();\n    }\n    // 两点画线（曲线）\n    function curve(a, b, radian = 2.6) {\n      var cp = {\n        x: (a.x + b.x) / 2 + (b.y - a.y) / radian,\n        y: (a.y + b.y) / 2 - (b.x - a.x) / radian\n      };\n      drawQuadraticCurve(a, cp, b);\n    }\n\n    if(typeof(el) === 'string') el = document.getElementById(el);\n    if(el && el.nodeType === 1 && el.nodeName === 'CANVAS') {\n      var ctx = el.getContext('2d');\n      // 获取设备分辨率信息\n      const devicePixelRatio = window.devicePixelRatio || 1;\n      const backingStoreRatio = ctx.webkitBackingStorePixelRatio ||\n                                ctx.mozBackingStorePixelRatio ||\n                                ctx.msBackingStorePixelRatio ||\n                                ctx.oBackingStorePixelRatio ||\n                                ctx.backingStorePixelRatio || 1;\n      const ratio = devicePixelRatio / backingStoreRatio;\n      // 按比例缩放Canvas\n      el.width = el.width * ratio;\n      el.height = el.height * ratio;\n      ctx.scale(ratio, ratio);\n      return {\n        curve\n      };\n    }else {\n      scope.debug && console.error('el not a canvas');\n      return false;\n    }\n  };\n})(window);\n\nvar canvas = initCanvas('canvas');\nvar sp;\n\nfunction draw(e) {\n  if(sp) {\n    canvas.curve(sp, {x: e.offsetX, y: e.offsetY});\n    sp = null;\n  }else {\n    sp = {x: e.offsetX, y: e.offsetY};\n  }\n}\n\n\n\n\n"]}