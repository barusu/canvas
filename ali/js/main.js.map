{"version":3,"sources":["ali/script/main.js"],"names":["scope","assembleTree","data","t","c","list","parentId","id","i","forEach","findChild","action","url","methods","el","push","ci","children","ich","mindex","Vue","$","console","json","icon","label","nindex","loadData","get","selectnav","index","selectmain","this","computed","close","ni","Array","isArray","san","mounted","user_switch","window"],"mappings":"cAIA,SAAUA,GA0EN,SAAAC,EAAAC,GACE,IAAAC,EAAIC,GAAgBC,EAAKD,EAAEE,IAAAA,SAAAA,GAAP,MAApB,CACAC,GAAAC,EAAMD,GACJH,KAAEK,EAAAA,KACAC,MAAAA,EAAAA,KACDC,OAFDH,EAAAI,IAGAJ,SAAAA,EAAAF,YAoBJO,OANAC,EAAIL,QAAA,SAAAD,GACEA,EAAAF,YAXND,SAAKI,EAAQD,GACX,IAAGJ,EAAGE,EAAAA,OAAU,SAAAF,GAAA,OAAAA,EAAAE,UAAAE,EAAAD,KACdG,IACAP,EAAEY,QAAF,SAAAC,GACDN,EAAAM,KAEHR,EAAAS,SAAAb,GAMEc,CADIV,GAEJW,EAAAA,KAASX,MAGXK,EAPY,IAAIO,IAAI,CAShBC,GAAAA,WACEnB,KAAA,CACAoB,IAvGK,CADd,CACOC,GAAAA,IAEFhB,KADF,kBAEEiB,MAAM,QACNC,SAAO,CACPR,CAEQV,GADN,KAEEkB,MAAO,UACPR,SACE,CACM,CACJQ,GAAO,MACPd,MAAQ,YAJFA,OAAA,MASVc,CACAR,GAAAA,KAEIV,MADF,UAEEkB,SAAO,CACPd,CAJMJ,GAAA,MAOTkB,MAAA,YAAAd,OAAA,MAKGJ,CACAkB,GAAAA,KACAd,MAAQ,UACPM,SAAA,CACG,CACJQ,GAAO,MACPd,MAAQ,YARFA,OAAA,IAxBJ,CAqCTJ,GAAA,MAAAkB,MAAA,YAEKd,OAAA,QAMFM,CAEIV,GAAAA,IACAkB,KAAAA,sBACAd,MAAAA,QAHFM,SADQ,CAJJ,CA9CdV,GAAA,KA6DAkB,MAASxB,UACHE,SAAJ,CACIE,CACKE,GAAA,MACCA,MADD,YAECC,OAFD,SAwCJW,QAAE,EACJO,QANM,GAQLb,QAAKM,CACLQ,SADKR,WACAO,IAAAA,EAAAA,KATAL,EAAAO,IAAA,gEAAA,SAAA1B,GAWP2B,EAXOX,IAAAjB,EAAAC,GAYLoB,QAAKI,IAASI,EAAdZ,MAZK,SAeLa,WAPKZ,SAOAA,GACLa,KAAKN,OAASI,EACfE,KAAAN,QAAA,GAEHO,UAXSd,SAWCW,GAAAE,KAAAN,OAAAI,GAGJI,MAdGf,WAeDa,KAAAb,QAAO,EACRa,KAFDN,QAEM,IAGPO,SAAA,CACDE,GADC,WARK,OAAA,IAAAH,KAAAb,QAAAa,KAAAd,IAAAc,KAAAb,SAAAiB,MAAAC,QAWFL,KAAAd,IAAAc,KAAAb,QAAAF,UACIS,KAALR,IAAgBc,KAAhBb,QAAsBF,SAKtB,IAEHqB,IAXC,WAYF,OAAA,IAAAN,KAAAN,QAAAM,KAAAG,GAAAH,KAAAN,SA9CiBU,MAAAC,QAAAL,KAAAG,GAAAH,KAAAN,QAAAT,UAAAe,KAAAG,GAAAH,KAgDVN,QAAAT,SAKN,KACEsB,QAtDc,WAyDpB1B,KAAAA,cALW,IAAIO,IAAI,CACnBN,GAAI,UACJZ,KAAM,CACJsC,aAAa,GAEf3B,QAAS,KAtJb,CAyJG4B","file":"main.js","sourcesContent":["/**\n * Ali\n * 2018-11-01\n */\n(function(scope) {\n  const json = [\n    {\n      id: '1',\n      icon: 'icon-circlefill',\n      label: '测试条目1',\n      children: [\n        {\n          id: '11',\n          label: '测试条目1-1',\n          children: [\n            {\n              id: '111',\n              label: '测试条目1-1-1',\n              action: ''\n            }\n          ]\n        }, {\n          id: '12',\n          label: '测试条目1-2',\n          children: [\n            {\n              id: '121',\n              label: '测试条目1-2-1',\n              action: ''\n            }\n          ]\n        }, {\n          id: '13',\n          label: '测试条目1-3',\n          children: [\n            {\n              id: '131',\n              label: '测试条目1-3-1',\n              action: ''\n            }, {\n              id: '132',\n              label: '测试条目1-3-2',\n              action: ''\n            }\n          ]\n        }\n      ]\n    }, {\n      id: '2',\n      icon: 'icon-emojiflashfill',\n      label: '测试条目2',\n      children: [\n        {\n          id: '21',\n          label: '测试条目2-1',\n          children: [\n            {\n              id: '211',\n              label: '测试条目2-1-1',\n              action: ''\n            }\n          ]\n        }\n      ]\n    }\n  ];\n  function assembleTree(data) {\n    var t = [];\n    var list = data.map(i => {\n      return {\n        id: i.id,\n        icon: i.icon,\n        label: i.name,\n        action: i.url,\n        parentId: i.parentId\n      };\n    });\n\n    function findChild(i) {\n      var c = list.filter(c => c.parentId == i.id);\n      if(c) {\n        c.forEach(ci => {\n          findChild(ci);\n        });\n        i.children = c;\n      }\n    }\n\n    list.forEach(i => {\n      if(!i.parentId) {\n        findChild(i);\n        t.push(i);\n      }\n    });\n    return t;\n  }\n  var store = {};\n  var Sidebar = new Vue({\n    el: '#sidebar',\n    data: {\n      ich: json,\n      mindex: -1,\n      nindex: -1\n    },\n    methods: {\n      loadData() {\n        $.get(' https://easy-mock.com/mock/59a8fa924006183e48efd0e3/demo/nav', data => {\n          this.ich = assembleTree(data);\n          console.log(this.ich);\n        }, 'json');\n      },\n      selectmain(index) {\n        this.mindex = index;\n        this.nindex = -1;\n      },\n      selectnav(index) {\n        this.nindex = index;\n      },\n      close() {\n        this.mindex = -1;\n        this.nindex = -1;\n      }\n    },\n    computed: {\n      ni() {\n        if(this.mindex !== -1 && this.ich[this.mindex]) {\n          if(Array.isArray(this.ich[this.mindex].children)) {\n            return this.ich[this.mindex].children;\n          }else {\n            return [];\n          }\n        }\n        return [];\n      },\n      san() {\n        if(this.nindex !== -1 && this.ni[this.nindex]) {\n          if(Array.isArray(this.ni[this.nindex].children)) {\n            return this.ni[this.nindex].children;\n          }else {\n            return [];\n          }\n        }\n        return [];\n      }\n    },\n    mounted() {\n      this.loadData();\n    }\n  });\n  var Header = new Vue({\n    el: '#header',\n    data: {\n      user_switch: false\n    },\n    methods: {\n    }\n  });\n})(window);\n\n"]}