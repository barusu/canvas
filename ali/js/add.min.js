"use strict";!function(e){var n=new Vue({el:"#add",data:{step:0,resource:{chineseName:"",englishName:"",description:"",applicationSystem_id:"",abutments:"",amount:"",renewFrequency:"",renewFrequencyReason:"",remark:""},resourceRules:{chineseName:[{required:!0,trigger:"blur"}],englishName:[{required:!0,trigger:"blur"}],applicationSystem_id:[{required:!0,trigger:"change"}],abutments:[{required:!0,trigger:"change"}],amount:[{required:!0,trigger:"change"}],renewFrequency:[{required:!0,trigger:"change"}]},applicationSystems:[{name:"数据治理系统",id:"1"}],abutments:[{name:"库表对接",code:"database"},{name:"excel文件",code:"excel"}],amounts:[{name:"0~1千万",code:"1"}],renewFrequencys:[{name:"天",code:"day"},{name:"月",code:"month"},{name:"年",code:"year"}],dataIndexs:[{chineseName:"",openProperty:"开放",shareProperty:"无条件共享",englishName:"122",type:"",length:"",symbols:"否",isKey:"0",defaultValue:"",allowSpace:"1",remarks:"",dataFormat:""},{chineseName:"",openProperty:"开放",shareProperty:"无条件共享",englishName:"222",type:"INT",length:"66666",symbols:"否",isKey:"0",defaultValue:"",allowSpace:"1",remarks:"",dataFormat:""},{chineseName:"",openProperty:"开放",shareProperty:"无条件共享",englishName:"122",type:"",length:"",symbols:"否",isKey:"0",defaultValue:"",allowSpace:"1",remarks:"",dataFormat:""}],dataindex:{chineseName:"",openProperty:"开放",shareProperty:"无条件共享",englishName:"",type:"",length:"",symbols:"否",isKey:"0",defaultValue:"",allowSpace:"1",remarks:"",dataFormat:""},dataindexRules:{chineseName:[{required:!0,trigger:"blur"}],englishName:[{required:!0,trigger:"blur"}],type:[{required:!0,trigger:"change"}],length:[{validator:function(e,a,t){switch(n.dataindex.type){case"VARCHAR":case"INT":case"BIGINT":case"NUMERIC":a?t():t(new Error("长度不能为空"));break;default:t()}},trigger:"blur"}]},boolmap:{0:"否",1:"是"},dialogFormVisible:!1,dataFormatMap:{CHAR:"C..",VARCHAR:"C..",INT:"n..",BIGINT:"n..",NUMERIC:"N..",YEAR:"YYYY",DATE:"YYYY-MM-DD",DATETIME:"YYYY-MM-DD hh:mm:ss",TIMESTAMP:"hh:mm:ss",TEXT:"C..ul",BLOB:"C..ul",DECIMAL:"n..",DOUBLE:"n..",FLOAT:"n..",SMALLINT:"n..",TINYINT:"n..",VARBINARY:"n..",LONGBLOB:"C..ul",LONGTEXT:"C..ul",MEDIUMTEXT:"C..ul"}},methods:{next:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.step=1})},pre:function(){this.step=0},addindex:function(){var a=this;this.$forceUpdate(),this.$refs.dialogform.validate(function(e){if(!e)return!1;a.dataIndexs.push(a.dataindex),a.$refs.dialogform.clearValidate(),a.$nextTick(function(){a.dataindex={chineseName:"",openProperty:"开放",shareProperty:"无条件共享",englishName:"",type:"",length:"",symbols:"否",isKey:"0",defaultValue:"",allowSpace:"1",remarks:"",dataFormat:""}})})},edit:function(e){console.log(e),this.dataindex=this.dataIndexs[e.$index],this.dialogFormVisible=!0},deleterow:function(e){this.dataIndexs.splice(e.$index,1)},cknull:function(e,a,t,n){return t||this.$createElement("span",{class:"h"},"")},ckunique:function(e,a,t,n){var i=0;return this.dataIndexs.forEach(function(e){e[a.property]==t&&i++}),1<i?this.$createElement("span",{class:"unique"},t):t||this.$createElement("span",{class:"h"},"")}},computed:{IndexType:function(){var e=[];for(var a in this.dataFormatMap)e.push({name:a,value:a});return e},ilength:{set:function(e){this.dataindex.length=e},get:function(){var e,a,t=this.dataindex.length,n=99999999;switch(this.dataindex.type){case"VARCHAR":n=6e3;break;case"INT":n=200;break;case"DOUBLE":n=255,t=(a=t.split(","))[0],e=a[1];break;case"CHAR":case"FLOAT":n=255,t=(a=t.split(","))[0],e=a[1];break;case"LONGBLOB":case"LONGTEXT":case"TEXT":case"MEDIUMTEXT":break;case"SMALLINT":case"BIGINT":case"TINYINT":n=255;break;case"VARBINARY":n=100;break;case"NUMERIC":case"DECIMAL":n=65,t=(a=t.split(","))[0],e=a[1]}return t=parseInt(t),isNaN(t)?t=0:t<0?t=0:n<t&&(t=n),"NUMERIC"!=this.dataindex.type&&"DOUBLE"!=this.dataindex.type&&"FLOAT"!=this.dataindex.type&&"DECIMAL"!=this.dataindex.type||(e=parseInt(e),isNaN(e)?e=0:e<0?e=0:t<e&&(e=t),t+=","+e),this.dataindex.length=t.toString(),this.dataindex.length}},isKey:{get:function(){return"1"==this.dataindex.isKey},set:function(e){this.dataindex.isKey=e?"1":"0"}},allowSpace:{get:function(){return"1"==this.dataindex.allowSpace},set:function(e){this.dataindex.allowSpace=e?"1":"0"}},symbols:{get:function(){return"是"===this.dataindex.symbols},set:function(e){this.dataindex.symbols=e?"是":"否"}},dataFormat:function(){var e=this.dataFormatMap[this.dataindex.type];return e&&3==e.length&&(e+=this.dataindex.length),e}}})}(window);
//# sourceMappingURL=add.min.js.map
